import"./hoisted.27333582.js";function d(){const t=document.getElementById("category").value,a=document.getElementById("genre").value,s=document.getElementById("tag").value;console.log("Filtering with:",{category:t,genre:a,tag:s}),document.querySelectorAll(".story-card").forEach(e=>{const c=e.dataset.category,n=JSON.parse(e.dataset.genres),o=JSON.parse(e.dataset.tags);console.log("Story:",{title:e.querySelector("h3").textContent,category:c,genres:n,tags:o});let r=!0;t&&c!==t&&(r=!1),a&&r&&(r=Array.isArray(n)?n.map(l=>l.toLowerCase()).includes(a.toLowerCase()):n?.toLowerCase()===a.toLowerCase()),s&&r&&(r=Array.isArray(o)?o.map(l=>l.toLowerCase()).includes(s.toLowerCase()):o?.toLowerCase()===s.toLowerCase()),console.log("Visible?",r),e.style.display=r?"block":"none"})}document.querySelectorAll("#filter-form select").forEach(t=>{t.addEventListener("change",a=>{const s=a.target.form,i=new FormData(s),e=new URLSearchParams;for(const[n,o]of i.entries())o&&e.set(n,o);const c=`${window.location.pathname}${e.toString()?"?"+e.toString():""}`;window.history.pushState({},"",c),d()})});document.getElementById("clear-filters")?.addEventListener("click",()=>{document.getElementById("filter-form").reset(),window.history.pushState({},"",window.location.pathname),document.querySelectorAll(".story-card").forEach(t=>{t.style.display="block"})});window.location.search&&d();
